{"version":3,"sources":["components/SearchField/SearchField.styles.js","store/reducers/status.slice.js","assets/svg/magnifier.js","components/SearchField/SearchField.jsx","components/ForecastBlock/ForectBlock.styles.js","components/SvgCondition/SvgCondition.styles.jsx","components/SvgCondition/SvgCondition.jsx","components/ForecastBlock/ForecastBlock.jsx","utils/degreesToCompass.js","core/App/App.js","store/reducers/weather.slice.js","core/axios.js","store/sagas/weather.saga.js","store/sagas/root.saga.js","store/store.js","index.js"],"names":["InputStyled","styled","input","ButtonStyled","button","REQUEST_DATA","requestData","city","type","statusSlice","createSlice","name","initialState","isLoading","isError","isUsed","reducers","reverseIsLoading","state","toggleError","resetError","firstUseDetection","actions","statusReducer","reducer","Magnifier","className","viewBox","d","SearchField","dispatch","useDispatch","useState","value","setValue","placeholder","onChange","e","target","onKeyDown","key","trim","onClick","ForecastBox","div","SvgCard","img","SvgCondition","weatherState","useSelector","weather","weatherData","icon","src","alt","main","ForecastBlock","num","typeOfWeather","description","replace","str","toUpperCase","temperature","Math","floor","temp","humidity","windSpeed","wind","speed","windDeg","deg","App","loading","status","trouble","used","weatherSlice","changeCity","action","payload","uploadWeather","weatherReducer","WEATHER_API_URL","axios","create","baseURL","GEOCORDING_API_URL","workerLoadCoordinates","watchLoadCoordinates","put","call","get","toLowerCase","process","slice","getLatLonCityData","data","lat","lon","getWeatherByCoord","console","log","takeEvery","rootSaga","all","watchLoadCoordinatesSaga","sagaMiddleware","createSagaMiddleware","rootReducer","combineReducers","store","configureStore","middleware","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.78c6b370.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const InputStyled = styled.input`\r\n  width: 40%;\r\n  margin-left: 30%;\r\n  margin-top: 10px;\r\n  padding: 12px 0;\r\n  font-size: 1rem;\r\n  border: 0px solid;\r\n  border-radius: 20px;\r\n  text-align: center;\r\n  font-family: 'Merriweather', serif;\r\n  font-style: italic;\r\n  box-shadow: 0px 5px 14px -2px rgba(34, 60, 80, 0.26);\r\n  outline: transparent;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nexport const ButtonStyled = styled.button`\r\n  padding: 12px 20px;\r\n  border: 0px solid;\r\n  border-radius: 20px;\r\n  text-align: center;\r\n  box-shadow: 0px 5px 14px -2px rgba(34, 60, 80, 0.26);\r\n  cursor: pointer;\r\n  margin-left: 5px;\r\n  &:hover {\r\n    background-color: #BDBDBD;\r\n  }\r\n`;","import {createSlice} from \"@reduxjs/toolkit\";\r\n\r\n export const REQUEST_DATA = \"REQUEST_DATA\";\r\n export const requestData = (city) => {\r\n     return({type: REQUEST_DATA, city});\r\n };\r\n\r\nconst initialState = {\r\n    isLoading: false,\r\n    isError: false,\r\n    isUsed: false\r\n};\r\n\r\nexport const statusSlice = createSlice({\r\n    name: \"status\",\r\n    initialState,\r\n    reducers: {\r\n        reverseIsLoading: (state) => {\r\n            state.isLoading = !state.isLoading;\r\n        },\r\n        toggleError: (state) => {\r\n            state.isLoading = false;\r\n            state.isError = true;\r\n        },\r\n        resetError: (state) => {\r\n            state.isError = false;\r\n        },\r\n        firstUseDetection: (state) => {\r\n            state.isUsed = true;\r\n        }\r\n    }\r\n});\r\n\r\nexport const {reverseIsLoading, toggleError, resetError, firstUseDetection} = statusSlice.actions;\r\n\r\nexport const statusReducer = statusSlice.reducer;","import React from \"react\";\r\n\r\nexport const Magnifier = () => {\r\n    return (\r\n        <svg className=\"svg-icon\" viewBox=\"0 0 20 20\">\r\n            <path\r\n                d=\"M18.125,15.804l-4.038-4.037c0.675-1.079,1.012-2.308,1.01-3.534C15.089,\r\n                        4.62,12.199,1.75,8.584,1.75C4.815,1.75,1.982,4.726,2,8.286c0.021,3.577,\r\n                        2.908,6.549,6.578,6.549c1.241,0,2.417-0.347,3.44-0.985l4.032,4.026c0.167,\r\n                        0.166,0.43,0.166,0.596,0l1.479-1.478C18.292,16.234,18.292,15.968,18.125,\r\n                        15.804 M8.578,13.99c-3.198,0-5.716-2.593-5.733-5.71c-0.017-3.084,2.438-5.686,\r\n                        5.74-5.686c3.197,0,5.625,2.493,5.64,5.624C14.242,11.548,11.621,13.99,8.578,\r\n                        13.99 M16.349,16.981l-3.637-3.635c0.131-0.11,0.721-0.695,0.876-0.884l3.642,\r\n                        3.639L16.349,16.981z\"/>\r\n        </svg>\r\n    );\r\n};","import { InputStyled, ButtonStyled } from \"./SearchField.styles\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {requestData} from \"../../store/reducers/status.slice\";\r\nimport {Magnifier} from \"../../assets/svg/magnifier\";\r\n\r\n\r\nexport const SearchField = () => {\r\n    const dispatch = useDispatch();\r\n    const [value, setValue] = useState(\"\");\r\n\r\n    const handleSubmitOnClick = () => {\r\n        if (value.trim()) {\r\n            dispatch(requestData(value.trim()));\r\n            setValue(\"\");\r\n        }\r\n    };\r\n\r\n    const handleSubmitOnKeyDown = (e) => {\r\n        if ((e.key === \"Enter\" && (value.trim()))) {\r\n            dispatch(requestData(value.trim()));\r\n            setValue(\"\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <InputStyled\r\n                type=\"text\"\r\n                placeholder=\"Search\"\r\n                value={value}\r\n                onChange={(e) => setValue(e.target.value)}\r\n                onKeyDown={handleSubmitOnKeyDown}\r\n            />\r\n            <ButtonStyled onClick={handleSubmitOnClick}>\r\n                <Magnifier/>\r\n            </ButtonStyled>\r\n        </div>\r\n    );\r\n};","import styled from \"styled-components\";\r\n\r\nexport const ForecastBox = styled.div`\r\n    width: 40%;\r\n    margin:auto;\r\n    min-width: 570px;\r\n    border: 0px solid;\r\n    border-radius: 20px;\r\n    text-align: left;\r\n    font: italic 1.2em \"Arvo\", serif;\r\n    box-shadow: 0px 5px 14px -2px rgba(34, 60, 80, 0.26);\r\n    outline: transparent;\r\n    background-color: white;\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const SvgCard = styled.img`\r\n    margin-top: 0px;\r\n    margin-right: 0px;\r\n    width: 150px;\r\n    height: 150px;\r\n`;","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {SvgCard} from \"./SvgCondition.styles\";\r\n\r\nexport const SvgCondition = () => {\r\n    const weatherState = useSelector((state) => state.weather.weatherData);\r\n    const icon = weatherState?.weather?.[0]?.icon;\r\n\r\n    return (\r\n        <SvgCard src={`https://openweathermap.org/img/wn/${icon}@2x.png`}\r\n                 alt={weatherState.weather?.[0]?.main}/>\r\n    );\r\n};\r\n","import React from \"react\";\r\nimport {ForecastBox} from \"./ForectBlock.styles\";\r\nimport {SvgCondition} from \"../SvgCondition/SvgCondition\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {degToCompass} from \"../../utils/degreesToCompass\";\r\n\r\nexport const ForecastBlock = () => {\r\n    const weatherState = useSelector((state) => state.weather.weatherData);\r\n    const city = useSelector((state) => state.weather.city);\r\n    const typeOfWeather = weatherState.weather?.[0].description.replace(/^./, str => str.toUpperCase());\r\n    const temperature = Math.floor(weatherState.main?.temp)-273;\r\n    const humidity = weatherState.main?.humidity;\r\n    const windSpeed = weatherState.wind?.speed;\r\n    const windDeg = degToCompass(weatherState.wind?.deg);\r\n\r\n    return (\r\n        <ForecastBox>\r\n            <div className=\"noparams\">\r\n                <div className=\"info\">\r\n                    <h1>{city}</h1>\r\n                    <h2>{typeOfWeather}</h2>\r\n                </div>\r\n                <SvgCondition/>\r\n            </div>\r\n            <hr/>\r\n            <div className=\"params\">\r\n                <span>Temperature {temperature}Â°C</span>\r\n                <span>Humidity {humidity}%</span>\r\n                <span>Wind {windSpeed} m/s {windDeg}</span>\r\n            </div>\r\n        </ForecastBox>\r\n    );\r\n};\r\n","export const degToCompass = (num) => {\r\n    const val = Math.floor((num / 22.5) + 0.5);\r\n    const arr = [\"N\", \"NNE\", \"NE\", \"ENE\", \"E\", \"ESE\", \"SE\", \"SSE\", \"S\", \"SSW\", \"SW\", \"WSW\", \"W\", \"WNW\", \"NW\", \"NNW\"];\r\n    return arr[(val % 16)];\r\n};","import React from \"react\";\nimport {SearchField} from \"../../components/SearchField/SearchField\";\nimport {ForecastBlock} from \"../../components/ForecastBlock/ForecastBlock\";\nimport {useSelector} from \"react-redux\";\n\nexport function App () {\n    const loading = useSelector((state) => state.status.isLoading);\n    const trouble = useSelector((state) => state.status.isError);\n    const used = useSelector((state) => state.status.isUsed);\n\n    return (\n        <div className=\"App\">\n            {loading && (\n                <div>\n                    <SearchField/>\n                    <h1 className=\"loadinganderror\">Loading...</h1>\n                </div>\n            )}\n            {trouble && (\n                <div>\n                    <SearchField/>\n                    <h1 className=\"loadinganderror\">Error occurred, try again</h1>\n                </div>\n            )}\n            {!used && (\n                <div>\n                    <SearchField/>\n                </div>\n            )}\n            {used && !loading && !trouble && (\n                <div>\n                    <SearchField/>\n                    <ForecastBlock/>\n                </div>\n            )}\n        </div>\n    );\n\n}\n\n\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    city: \"\",\r\n    weatherData: {\r\n\r\n    }\r\n};\r\n\r\nexport const weatherSlice = createSlice({\r\n    name: \"weather\",\r\n    initialState,\r\n    reducers: {\r\n        changeCity: (state, action) => {\r\n            state.city = action.payload;\r\n        },\r\n        uploadWeather: (state, action) => {\r\n            state.weatherData = action.payload;\r\n        }\r\n    }\r\n});\r\n\r\nexport const {uploadWeather, changeCity} = weatherSlice.actions;\r\n\r\nexport const weatherReducer = weatherSlice.reducer;","import axios from \"axios\";\r\n\r\nexport const WEATHER_API_URL = axios.create({\r\n    baseURL: \"https://api.openweathermap.org/data/2.5/\"\r\n});\r\n\r\nexport const GEOCORDING_API_URL = axios.create({\r\n    baseURL: \"https://api.openweathermap.org/geo/1.0/\"\r\n});","import { takeEvery, call, put } from \"redux-saga/effects\";\r\nimport {\r\n    firstUseDetection,\r\n    REQUEST_DATA, resetError,\r\n    reverseIsLoading,\r\n    toggleError,\r\n} from \"../reducers/status.slice\";\r\n\r\nimport {GEOCORDING_API_URL, WEATHER_API_URL} from \"../../core/axios\";\r\n\r\nimport {changeCity, uploadWeather} from \"../reducers/weather.slice\";\r\n\r\nfunction* workerLoadCoordinates(payload) {\r\n    try {\r\n        yield put(firstUseDetection());\r\n        yield put(resetError());\r\n        yield put(reverseIsLoading());\r\n        const getLatLonCityData = yield call(GEOCORDING_API_URL.get,\r\n            `direct?q=${payload.city.toLowerCase()}&limit=1&appid=${process.env.REACT_APP_API_KEY.slice(0,-1)}`);\r\n        yield put(changeCity(getLatLonCityData.data[0].name));\r\n        const lat = Math.floor(getLatLonCityData.data[0].lat * 100) / 100;\r\n        const lon = Math.floor(getLatLonCityData.data[0].lon * 100) / 100;\r\n        const getWeatherByCoord = yield call(\r\n            WEATHER_API_URL.get,\r\n            `weather?lat=${lat}&lon=${lon}&appid=${process.env.REACT_APP_API_KEY.slice(0,-1)}`\r\n        );\r\n        yield put(uploadWeather(getWeatherByCoord.data));\r\n        yield put(reverseIsLoading());\r\n    } catch (e) {\r\n        yield put(toggleError());\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport function* watchLoadCoordinates() {\r\n    yield takeEvery(REQUEST_DATA, workerLoadCoordinates);\r\n}","import { all }from \"redux-saga/effects\";\r\nimport { watchLoadCoordinates as watchLoadCoordinatesSaga } from \"./weather.saga\";\r\n\r\nexport function* rootSaga() {\r\n    yield all([\r\n        watchLoadCoordinatesSaga(),\r\n    ]);\r\n}","import {combineReducers, configureStore} from \"@reduxjs/toolkit\";\r\nimport {statusReducer} from \"./reducers/status.slice\";\r\nimport {weatherReducer} from \"./reducers/weather.slice\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport {rootSaga} from \"./sagas/root.saga\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst rootReducer = combineReducers({\r\n    weather: weatherReducer,\r\n    status: statusReducer,\r\n});\r\n\r\nexport const store = configureStore({\r\n    reducer: rootReducer,\r\n    middleware: [sagaMiddleware]\r\n});\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./core/App/App\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store/store\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById(\"root\")\n);\n\n\n"],"sourceRoot":""}